{% extends "base.html" %}
{% block content %}

    <h2>Edit User</h2>

    <form action="/user/{{ user.id }}" method="post">
        <label for="username">Username</label>
        <input type="text" name="username" value="{{ user.username }}" required minlength="3" maxlength="20" />
        {% if errors.username %}
        <p class="error">{{ errors.username }}</p>
        {% endif %}

        <label for="name">Name</label>
        <input type="text" name="name" value="{{ user.name }}" />
        {% if errors.name %}
        <p class="error">{{ errors.name }}</p>
        {% endif %}

        <label for="email">Email</label>
        <input type="text" name="email" value="{{ user.email }}" required />
        {% if errors.email %}
        <p class="error">{{ errors.email }}</p>
        {% endif %}

        <label for="role">Role</label>
        <select name="role">
            <option value="admin" {% if user.role=='admin' %}selected{% endif %}>Admin</option>
            <option value="user" {% if user.role=='user' %}selected{% endif %}>User</option>
        </select>
        <button type="reset">Reset</button>
        <input type="submit" value="Save" />
    </form>
    {{ errors | dump}}
{% endblock %}
